<div class="dashboard-container">

  <div class="perfil-container">
    <h2 class="titulo-principal">Perfil do Investidor: <strong>{{ perfil }}</strong></h2>
    <p class="perfil-descricao">{{ perfilDescricao }}</p>
  </div>

  <div class="cards-tipos">
    <mat-card *ngFor="let p of produtos" class="tipo-card" (click)="abrirPopup(p)">
      <mat-card-title>{{ p.nome }}</mat-card-title>
      <mat-card-content>
        <p>{{ p.tipo }}</p>
        <div class="risco"><strong>Risco:</strong> {{ p.risco }}</div>
      </mat-card-content>
      <button mat-raised-button color="primary">Saiba mais</button>
    </mat-card>
  </div>

  <div class="graficos-container">
    <mat-card class="grafico-card">
      <mat-card-title>Evolução Mensal — Linha</mat-card-title>
      <div class="grafico-wrapper">
        <canvas id="graficoLinha"></canvas>
      </div>
    </mat-card>

    <mat-card class="grafico-card">
      <mat-card-title>Comparação Final — Barras</mat-card-title>
      <div class="grafico-wrapper">
        <canvas id="graficoBarra"></canvas>
      </div>
    </mat-card>
  </div>

  <mat-card class="simulador-card">
    <mat-card-title>Simule outros valores</mat-card-title>
    <div class="simulacao-grid">
      <div class="campo">
        <label>Valor Inicial</label>
        <input type="text" [(ngModel)]="novoValor" (input)="formatarMoeda($event)" />
      </div>
      <div class="campo">
        <label>Período (meses)</label>
        <input type="number" [(ngModel)]="novosMeses" min="1" max="60" />
      </div>
      <div class="acao">
        <button mat-raised-button color="primary" (click)="simularNovosValores()">Simular</button>
      </div>
    </div>
  </mat-card>

  <mat-card class="tabela-card">
    <table class="tabela-resultado">
      <thead>
        <tr>
          <th>Produto</th>
          <th>Valor Final</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let r of resultadosFinais">
          <td>{{ r.nome }}</td>
          <td>{{ r.valor | currency:'BRL':'symbol':'1.2-2' }}</td>
        </tr>
      </tbody>
    </table>
  </mat-card>

  <div class="btn-contato-container">
    <button mat-raised-button (click)="solicitarContato()">Solicitar Contato com Gerente</button>
  </div>

</div>
