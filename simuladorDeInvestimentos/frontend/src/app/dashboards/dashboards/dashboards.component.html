<div class="dashboard-container">

  <!-- PERFIL -->
  <div class="perfil-container">
    <h2 class="titulo-principal">
      Perfil do Investidor: <strong>{{ perfil }}</strong>
    </h2>
    <p class="perfil-descricao">{{ perfilDescricao }}</p>
  </div>

  <!-- CARDS PRODUTOS -->
  <div class="cards-tipos">
    <mat-card *ngFor="let p of produtos"
              class="tipo-card"
              (click)="abrirPopup(p)">
      <mat-card-title>{{ p.nome }}</mat-card-title>
      <mat-card-content>
        <p>{{ p.tipo }}</p>
        <div class="risco"><strong>Risco:</strong> {{ p.risco }}</div>
      </mat-card-content>
      <button mat-raised-button color="primary">Saiba mais</button>
    </mat-card>
  </div>

  <!-- GRÁFICOS -->
  <div class="graficos-container">
    <mat-card class="grafico-card">
      <mat-card-title>Evolução Mensal — Linha</mat-card-title>
      <div class="grafico-wrapper">
        <canvas id="graficoLinha"></canvas>
      </div>
    </mat-card>

    <mat-card class="grafico-card">
      <mat-card-title>Comparação Final — Barras</mat-card-title>
      <div class="grafico-wrapper">
        <canvas id="graficoBarra"></canvas>
      </div>
    </mat-card>
  </div>

  <!-- SIMULADOR -->
  <div class="simulacao-container">
    
    <mat-card class="simulador-card">
      <mat-card-title>Simule com outros valores</mat-card-title>

      <div class="simulacao-grid">

        <!-- CAMPO VALOR -->
        <mat-form-field appearance="outline" class="campo-input">
          <mat-label>Valor Inicial</mat-label>
          <input matInput
                 type="text"
                 [(ngModel)]="novoValor"
                 (input)="formatarMoeda($event)"
                 placeholder="0,00"
                 autocomplete="off"
                 inputmode="numeric">
          <span matPrefix>R$&nbsp;</span>
        </mat-form-field>

        <!-- CAMPO MESES -->
        <mat-form-field appearance="outline" class="campo-input">
          <mat-label>Período (meses)</mat-label>
          <input matInput type="number"
                 [(ngModel)]="novosMeses"
                 min="1" max="36">
        </mat-form-field>

        <!-- BOTÃO -->
        <div class="acao">
          <button mat-raised-button color="primary" (click)="simularNovosValores()">
            Simular
          </button>
        </div>
      </div>
    </mat-card>

    <!-- TABELA -->
    <mat-card class="tabela-card">
      <table class="tabela-resultado">
        <thead>
          <tr>
            <th>Tipo de Investimento</th>
            <th>Valor Final</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let r of resultadosFinais">
            <td>{{ r.nome }}</td>
            <td>{{ r.valor | currency:'BRL':'symbol':'1.2-2' }}</td>
          </tr>
        </tbody>
      </table>
    </mat-card>
  </div>

  <!-- BOTÃO CONTATO -->
  <div class="btn-contato-container">
    <button mat-raised-button (click)="solicitarContato()">
      Solicite que um dos nossos Gerentes entre em Contato com Você!
    </button>
  </div>

</div>
